.form-input,
.form-textarea {
  @apply appearance-none outline-none;
  @apply py-8 px-12;
  @apply rounded-4;
  @apply bg-slate-1 text-black;
  @apply border-2 border-solid border-transparent;
  @apply hover:border-slate-2;
  @apply focus:border-slate-3 focus:bg-white;

  &.invalid,
  &:invalid, /* FIXME: should we qualify this with `:not([aria-invalid=false])`? */
  &[aria-invalid=true] {
    @apply bg-red-2;
  }
}

.form-checkbox {
  @apply absolute outline-none w-0 h-0;

  & ~ label {
    @apply rounded cursor-pointer;
    @apply rounded-4 border-2 border-solid border-white hocus:border-slate-2;
  }

  & ~ label .form-checkbox-check {
    @apply text-transparent;
    @apply w-24 h-24 p-4 rounded-4 bg-slate-1 border-1 border-solid border-slate;
  }

  /* TODO: much of the following could be done with the `peer-` variants in tailwind 3.0.0 */
  &:focus {
    &:invalid {
      ~ label {
        @apply border-red-3;
      }
    }
    ~ label {
      @apply border-slate-2;
    }
  }

  &:checked {
    ~ label {
      @apply rounded-4 bg-slate-1;

      .form-checkbox-check {
        @apply text-white bg-slate-3 border-transparent !important;
      }
    }
  }

  &:invalid,
  &.invalid,
  &[aria-invalid=true] {
    ~ label {
      @apply bg-red-2;
      @screen lg {
        @apply bg-red-1;
      }

      &:hover {
        @apply border-red-3;
      }

      .form-checkbox-check {
        @apply bg-white;
        @apply border-1 border-solid rounded-4 border-red-3;
      }    
    }
  }

  &:disabled,
  &.disabled,
  &[aria-disabled=true] {
    ~ label {
      @apply border-0;
      @apply hocus:border-none;
      @apply pointer-events-none;

      .form-checkbox-check {
        @apply bg-grey-1;
        @apply border-1 border-solid rounded-4 border-grey-2;
      }
    }
  }
}

.small-checkbox-group {
  @apply flex space-x-8;
  @apply border-0;

  & > div {
    @apply flex;
  }

  label {
    @apply inline-flex items-center;
  }

  .form-checkbox {
    &:checked {
      ~ label {
        @apply bg-none;
      }
    }
  }

  .vertical {
    @apply flex-col;
  }
}

.input-sm {
  @apply w-1/6 !important;
}

.input-md {
  @apply w-1/3 !important;
}

.input-lg {
  @apply w-full !important;
}